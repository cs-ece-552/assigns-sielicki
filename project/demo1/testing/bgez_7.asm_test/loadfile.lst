          // Author: Matt Sinclair
          // CS/ECE 552 Spring '08
          // Homework #4, Problem #7
          //
          // Filename: bgez_7.asm
          // BGEZ assembly test
          //
          // This is a test of the bgez instruction.  This test should verify that a BGEZ
          // works when there are multiple branches/jumps.
          
0000 c10a LBI	r1, 10				// move 10 into r1
0002 2006 J	.branch1
          					// none of these should execute
0004 c200 LBI	r2, 0
0006 4a41 ADDI	r2, r2, 1
0008 4a41 ADDI	r2, r2, 1		
000a      .branch1:
000a 7908 BGEZ	r1, .shouldGoHere		// 10 >= 0, so does branch
          					// none of these should execute
000c c200 LBI	r2, 0
000e 4a42 ADDI	r2, r2, 2
0010 4a42 ADDI	r2, r2, 2
0012 0000 	HALT		
          	
0014      .shouldGoHere:
0014 493b ADDI	r1, r1, -5			// r1 = 0x5
0016 790a BGEZ	r1, .hereNext			// 5 >= 0, so branches
0018 0000 	HALT				// shouldn't execute
          
001a      .keepGoing:	
001a 493b ADDI	r1, r1, -5			// r1 = 0 now
001c 790a BGEZ	r1, .hardForPipeline		// 0 >= 0, so branches
001e c400 LBI	r4, 0				// shouldn't execute
0020 0000 	HALT
          	
0022      .hereNext:
0022 79f6 BGEZ	r1, .keepGoing			// 0 >= 0, so branches
0024 c300 LBI	r3, 0				// shouldn't execute
0026 0000 	HALT				// doesn't execute
          
0028      .hardForPipeline:
0028 7904 BGEZ	r1, .stillHard			// 0 >= 0, so branches
002a c500 LBI	r5, 0				// shouldn't execute
002c 0000 	HALT
002e      .stillHard:
002e 7904 BGEZ	r1, .stillHard2			// 0 >= 0, so branches
0030 c600 LBI	r6, 0				// shouldn't execute
0032 0000 	HALT
0034      .stillHard2:
0034 493f ADDI	r1, r1, -1			// r1 = -1 (0xFFFF) now
0036 79f0 BGEZ	r1, .hardForPipeline		// this should fall through
0038 0000 	HALT				// end bgez_7.asm
          					// r1 = -1 (base 10) = 0xFFFF now
          					// all other registers (non-R7) shouldn't appear in trace
